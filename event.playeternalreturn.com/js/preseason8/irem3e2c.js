(self.webpackChunk=self.webpackChunk||[]).push([[5912],{721:function(e,r,n){"use strict";var t=n(9669),a=n.n(t),o={getAddress:function(){a().get("/newcharacter/Irem/reward/address",{params:{}}).then((function(e){var r=e.data;if(200===e.status){if(null===r.reward_data)return;try{"address"in r.reward_data&&$("#address").val(r.reward_data.address),"ship_name"in r.reward_data&&$("#ship_name").val(r.reward_data.ship_name),"ship_tel"in r.reward_data&&$("#ship_tel").val(r.reward_data.ship_tel)}catch(e){console.log(e)}}else r.error&&255===r.error?openFc("pop_alert6"):void 0!==window.__i18n.preseason8.alert[r.error]?alert(window.__i18n.preseason8.alert[r.error]):alert(window.__i18n.error.default)})).catch((function(e){alert(window.__i18n.error.default)}))},updateAddress:function(){a().post("/newcharacter/Irem/reward/address",{ship_name:$("#ship_name").val(),ship_tel:$("#ship_tel").val(),ship_email:$("#ship_email").val(),address:$("#address").val()}).then((function(e){var r=e.data;200===e.status?(openFc("pop_alert4"),closeFc("pop_prinfo"),o.getGameData()):void 0!==window.__i18n.preseason8.alert[r.error]?alert(window.__i18n.preseason8.alert[r.error]):alert(window.__i18n.error.default)})).catch((function(e){alert(window.__i18n.error.default)}))},getGameData:function(){a().get("/newcharacter/Irem/game/data",{params:{}}).then((function(e){var r=e.data;if(200===e.status)try{var n=parseInt(r.mission_point),t=r.reward_log;$("#gamePlayCount").html(n),n>=1&&!("1"in t)?$("#iremReward1").removeAttr("disabled"):$("#iremReward1").attr("disabled","disabled"),n>=1&&!("2"in t)?$("#iremReward2").removeAttr("disabled"):$("#iremReward2").attr("disabled","disabled"),n>=1&&!("3"in t)?$("#iremReward3").removeAttr("disabled"):$("#iremReward3").attr("disabled","disabled")}catch(e){console.log(e)}else r.error&&255===r.error?openFc("pop_alert6"):void 0!==window.__i18n.preseason8.alert[r.error]?alert(window.__i18n.preseason8.alert[r.error]):alert(window.__i18n.error.default)})).catch((function(e){alert(window.__i18n.error.default)}))},rewardProgress:!1,getReward:function(e){o.rewardProgress||(o.rewardProgress=!0,a().post("/newcharacter/Irem/game/reward",{reward_id:e}).then((function(r){var n=r.data;200===r.status?($("#iremReward"+e).html("..."),setTimeout(o.rewardStatus,1e3,e)):(void 0!==window.__i18n.preseason8.alert[n.error]?alert(window.__i18n.preseason8.alert[n.error]):alert(window.__i18n.error.default),o.rewardProgress=!1)})).catch((function(e){console.log(e),alert(window.__i18n.error.default),o.rewardProgress=!1})))},rewardStatus:function(e){var r=$("#iremReward"+e);a().post("/newcharacter/Irem/game/reward-result",{reward_id:e}).then((function(n){var t=n.data;200===n.status?(void 0!==t.retry_after?setTimeout(o.rewardStatus,t.retry_after,e):void 0!==t.success?(openFc("pop_alert3"),r.text(window.__i18n.preseason8.irem_wrap.sec3.btn03_off),r.attr("disabled","disabled")):(r.text(window.__i18n.preseason8.irem_wrap.sec3.btn03),alert(window.__i18n.error.default)),o.rewardProgress=!1):(void 0!==window.__i18n.preseason8.alert[t.error]?alert(window.__i18n.preseason8.alert[t.error]):alert(window.__i18n.error.default),o.rewardProgress=!1,r.text(window.__i18n.preseason8.irem_wrap.sec3.btn03))})).catch((function(e){alert(window.__i18n.error.default),o.rewardProgress=!1,r.text(window.__i18n.preseason8.irem_wrap.sec3.btn03)}))}};$((function(){$("#pop_address_textarea").html(window.__i18n.preseason8.pop_prinfo.pop_con.form_div.irem),$(".btn_reload").on("click",(function(){o.getGameData()})),$("#iremReward1").on("click",(function(){o.getReward(1)})),$("#iremReward2").on("click",(function(){o.getReward(2)})),$("#iremReward3").on("click",(function(){openFc("pop_info_com")})),$("#address_confirm_btn_yes").on("click",(function(){o.getAddress(),closeFc("pop_info_com"),openFc("pop_prinfo")})),$("#address_submit").on("click",(function(){return $("#ship_name").val()?$("#ship_tel").val()?$("#address").val()?$("#ship_email").val()?$("#chk1:checked").length?$("#chk3:checked").length?void o.updateAddress():(alert(window.__i18n.preseason8.pop_prinfo.pop_con.form_div.chk3_alert),!1):(alert(window.__i18n.preseason8.pop_prinfo.pop_con.form_div.chk1_alert),!1):(alert(window.__i18n.preseason8.pop_prinfo.pop_con.form_div.email),!1):(alert(window.__i18n.preseason8.pop_prinfo.pop_con.form_div.address),!1):(alert(window.__i18n.preseason8.pop_prinfo.pop_con.form_div.num),!1):(alert(window.__i18n.preseason8.pop_prinfo.pop_con.form_div.name),!1)}))}))},4155:function(e){var r,n,t=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(n){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,d=[],c=!1,l=-1;function _(){c&&s&&(c=!1,s.length?d=s.concat(d):l=-1,d.length&&p())}function p(){if(!c){var e=i(_);c=!0;for(var r=d.length;r;){for(s=d,d=[];++l<r;)s&&s[l].run();l=-1,r=d.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(r){try{return n.call(null,e)}catch(r){return n.call(this,e)}}}(e)}}function w(e,r){this.fun=e,this.array=r}function u(){}t.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];d.push(new w(e,r)),1!==d.length||c||i(p)},w.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=u,t.addListener=u,t.once=u,t.off=u,t.removeListener=u,t.removeAllListeners=u,t.emit=u,t.prependListener=u,t.prependOnceListener=u,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}},0,[[721,8929,8898]]]);